webpackJsonp([2],{"+skl":function(t,e){},"02X8":function(t,e){},"2ZcF":function(t,e){},"5fCP":function(t,e){},AFo3:function(t,e){},"IHa/":function(t,e){},NHnr:function(t,e,r){"use strict";function n(t,e){for(e=e||0;e<4;e++){if(t<1024)return t+T[e];t=(t/1024).toFixed(2)}return t+"GB"}function s(t){if("object"===(void 0===t?"undefined":X()(t))&&!(t instanceof Array)){var e={};for(var r in t)null!=t[r]&&(e[r]=s(t[r]));return e}return t}function a(t,e,r){var n=z()({},mt);return e&&(n.method="POST",n.body="string"!=typeof e?V()(s(e)):e),r&&(n.headers=r),t+=(t.indexOf("?")>=0?"&":"?")+"token="+ht,new B.a(function(e,r){fetch(vt+t,n).then(function(t){if(t.ok)return t.json()},function(t){return r(t)}).then(function(n){n?void 0===n.no?e(n):200===n.no?e(n.data):401===n.no?(t.indexOf("logout")<0&&dt.dispatch("logout"),r(n.msg)):(Y.Message.error(""+n.msg),r(n.msg)):r(404)})})}function o(t){r("IHa/")}function i(t){r("2ZcF")}function c(t){r("AFo3")}function u(t){r("5fCP")}function l(t){t=t||32;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=e.length,n="",s=0;s<t;s++)n+=e.charAt(Math.floor(Math.random()*r));return n}function d(t,e){return"port"===t?Math.floor(1e4*Math.random())+(e||2e4):l(e||6)}Object.defineProperty(e,"__esModule",{value:!0});var p={};r.d(p,"addToCart",function(){return Q});var f={};r.d(f,"cartProducts",function(){return W});var v,m=r("7+uW"),h={name:"app"},b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},y=[],w={render:b,staticRenderFns:y},x=w,g=r("VU/8"),k=g(h,x,!1,null,null,null),j=k.exports,S=r("Xxa5"),E=r.n(S),F=r("exGp"),I=r.n(F),O=r("/ocq"),R=r("BO1k"),N=r.n(R),M=r("woOf"),z=r.n(M),P=r("PJh5"),U=r.n(P),q=["none","table","rc4","rc4-md5","rc4-md5-6","aes-128-cfb","aes-192-cfb","aes-256-cfb","aes-128-cbc","aes-128-ctr","aes-192-ctr","aes-256-ctr","aes-128-cfb1","bf-cfb","camellia-128-cfb","camellia-192-cfb","camellia-256-cfb","salsa20","chacha20","chacha20-ietf"],C=["origin","auth_sha1_v4","auth_aes128_md5","auth_aes128_sha1","auth_chain_a"],L=["plain","http_simple","http_simple_compatible","http_post","http_post_compatible","tls1.2_ticket_auth","tls1.2_ticket_auth_compatible"],D={id:null,port:null,passwd:null,u:0,d:0,transfer_enable:10,enable:1,method:"chacha20",protocol:"auth_aes128_md5",protocol_param:2,obfs:"http_simple",obfs_param:null,speed_limit_per_user:2048,expired_at:new Date((new Date).getFullYear(),(new Date).getMonth()+1,(new Date).getDate())},T=["b","Kb","Mb","Gb"],G=function(t){var e=t.renderEdit;return[{key:"mark",title:"备注",fixed:"left",width:100,render:function(t,e){return e.row.mark||"无"},ellipsis:!0},{key:"update_at",title:"在线",width:100,render:function(t,e){var r=e.row;return U()(r.update_at).fromNow()},requireAdmin:!0,sortable:!0},{key:"u",title:"上传",width:100,render:function(t,e){return n(e.row.u)},sortable:!0},{key:"d",title:"下载",width:100,render:function(t,e){return n(e.row.d)},sortable:!0},{key:"transfer_enable",title:"总流量",width:100,render:function(t,e){return n(e.row.transfer_enable)},sortable:!0},{key:"protocol_param",title:"设备",width:80,requireAdmin:!0,sortable:!0},{key:"speed_limit_per_user",title:"网速",width:100,render:function(t,e){return n(e.row.speed_limit_per_user,1)},requireAdmin:!0,sortable:!0},{key:"port",title:"端口",width:100,sortable:!0},{key:"passwd",title:"密码",width:100},{key:"enable",title:"启用",width:100,render:function(t,e){return e.row.enable?"启用":"未启用"}},{key:"expired_at",title:"过期",fixed:"right",width:100,render:function(t,e){var r=e.row;return r.expired_at&&U()(r.expired_at).format("YYYY-MM-DD")},sortable:!0},{title:"操作",fixed:"right",width:150,render:e}]},$=r("//Fk"),B=r.n($),A=r("mvHQ"),V=r.n(A),H=r("pFYg"),X=r.n(H),Y=r("BTaQ"),K=r.n(Y),J=r("NYxO"),Q=function(t,e){t.commit},W=function(t){},Z=(r("M4fF"),r("bOdI")),tt=r.n(Z),et={user:null},rt={user:function(t){return t.user},isAdmin:function(t){return t.user&&"admin"==t.user.role},logined:function(t){return Boolean(t.user)}},nt={login:function(t,e){var r=this,n=t.commit;t.state;return I()(E.a.mark(function t(){var s;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt("/user/login",e);case 2:s=t.sent,n("USER_LOGIN",s);case 4:case"end":return t.stop()}},t,r)}))()},register:function(t,e){var r=this,n=t.commit;t.state;return I()(E.a.mark(function t(){var s;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt("/user/register",e);case 2:s=t.sent,n("USER_LOGIN",s);case 4:case"end":return t.stop()}},t,r)}))()},whoami:function(t){var e=this,r=t.commit;t.state;return I()(E.a.mark(function t(){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt("/user/whoami");case 2:n=t.sent,r("USER_LOGIN",n);case 4:case"end":return t.stop()}},t,e)}))()},logout:function(t){var e=this,r=t.commit;t.state;return I()(E.a.mark(function t(){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wt("/user/logout");case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:r("USER_LOGIN",null);case 9:case"end":return t.stop()}},t,e,[[0,5]])}))()}},st=tt()({},"USER_LOGIN",function(t,e){if(t.user=e,e){if(/(login)|(register)/.test(fe.currentRoute.fullPath)){var r=fe.currentRoute.query.redirect;(!r||r.length<2)&&(r="/user/dashboard"),fe.history.push(r)}}else{if((fe.currentRoute.meta||{}).guest)return;var n=fe.currentRoute.fullPath;/(login)|(register)/.test(fe.currentRoute.fullPath)&&(n="/user/dashboard"),fe.history.push({path:"/login",query:{redirect:n}})}}),at={state:et,getters:rt,actions:nt,mutations:st},ot={nodes_loading:!1,nodes:[],users_loading:!1,users:[],ssrs_loading:!1,ssrs:[]},it={},ct={getNodes:function(t){var e=this,r=t.commit;t.state;return I()(E.a.mark(function t(){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("SET_NODES_LOADING",!0),t.prev=1,t.next=4,wt("/ssr/nodelist");case 4:n=t.sent,r("SET_NODES",n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:r("SET_NODES_LOADING",!1);case 12:case"end":return t.stop()}},t,e,[[1,8]])}))()},getUsers:function(t){var e=this,r=t.commit;t.state;return I()(E.a.mark(function t(){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("SET_USERS_LOADING",!0),t.prev=1,t.next=4,wt("/ssr/userlist");case 4:n=t.sent,r("SET_USERS",n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:r("SET_USERS_LOADING",!1);case 12:case"end":return t.stop()}},t,e,[[1,8]])}))()},getSsrs:function(t){var e=this,r=t.commit;t.state;return I()(E.a.mark(function t(){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("SET_SSRS_LOADING",!0),t.prev=1,t.next=4,wt("/ssr/list");case 4:n=t.sent,r("SET_SSRS",n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:r("SET_SSRS_LOADING",!1);case 12:case"end":return t.stop()}},t,e,[[1,8]])}))()},setSsrs:function(t,e){var r=t.commit;t.state;r("SET_SSRS",e)}},ut=(v={},tt()(v,"SET_NODES",function(t,e){t.nodes=e,ut.SSR_COMPUTE(t)}),tt()(v,"SET_USERS",function(t,e){t.users=e,ut.SSR_COMPUTE(t)}),tt()(v,"SET_SSRS",function(t,e){var r=!0,n=!1,s=void 0;try{for(var a,o=N()(e);!(r=(a=o.next()).done);r=!0){var i=a.value,c=fe.currentRoute.fullPath,u=i.node_id+":"+i.port+":"+i.passwd;i.link=location.href.replace(c,"/user/view?key="+window.btoa(u))}}catch(t){n=!0,s=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw s}}t.ssrs=e,ut.SSR_COMPUTE(t)}),tt()(v,"SSR_COMPUTE",function(t){var e=t.nodes,r=t.users,n=t.ssrs;if(e.length&&n.length&&n.nodes!=e){var s={},a=!0,o=!1,i=void 0;try{for(var c,u=N()(e);!(a=(c=u.next()).done);a=!0){var l=c.value;!function(t){s[t.id]=t;var e=[];t.ssrs=function(){return e}}(l)}}catch(t){o=!0,i=t}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}var d=!0,p=!1,f=void 0;try{for(var v,m=N()(n);!(d=(v=m.next()).done);d=!0){var l=v.value;!function(t){t.node=_.find(e,function(e){return e.id==t.node_id})||{},t.node.ssrs&&t.node.ssrs().push(t)}(l)}}catch(t){p=!0,f=t}finally{try{!d&&m.return&&m.return()}finally{if(p)throw f}}Object.defineProperty(n,"nodes",{configurable:!0,value:e})}if(e.length&&n.length&&n.users!=r){var h={},b=!0,y=!1,w=void 0;try{for(var x,g=N()(r);!(b=(x=g.next()).done);b=!0){var k=x.value;!function(t){h[t.id]=t;var e=[];t.ssrs=function(){return e}}(k)}}catch(t){y=!0,w=t}finally{try{!b&&g.return&&g.return()}finally{if(y)throw w}}var j=!0,S=!1,E=void 0;try{for(var F,I=N()(n);!(j=(F=I.next()).done);j=!0){var O=F.value;!function(t){t.user=_.find(r,function(e){return e.id==t.uid})||{},t.user.ssrs&&t.user.ssrs().push(t)}(O)}}catch(t){S=!0,E=t}finally{try{!j&&I.return&&I.return()}finally{if(S)throw E}}Object.defineProperty(n,"nodes",{configurable:!0,value:r})}}),tt()(v,"SET_NODES_LOADING",function(t,e){t.nodes_loading=e}),tt()(v,"SET_USERS_LOADING",function(t,e){t.users_loading=e}),tt()(v,"SET_SSRS_LOADING",function(t,e){t.ssrs_loading=e}),v),lt={state:ot,getters:it,actions:ct,mutations:ut};m.default.use(J.a);var dt=new J.a.Store({actions:p,getters:f,modules:{user:at,ssr:lt},strict:!1,plugins:[]}),pt=function(){var t=I()(E.a.mark(function t(){var e,r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ht){t.next=9;break}return t.next=3,a("/userslave.json");case 3:e=t.sent,r=window.atob(e.key),vt=vt.indexOf("localhost")<0?"http://"+r+"/api":"http://localhost:3000/api",_t=e.account,bt=e.password,ht=e.token;case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),ft=/https?:\/\/[^\/]+/.exec(window.location.href)[0],vt=ft+"/static",mt={credentials:"include",headers:{"content-type":"application/json"}},ht="",_t="",bt="",yt=function(){var t=I()(E.a.mark(function t(e,r,n){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt();case 2:return t.next=4,a(e,r,n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}();yt.login=function(){var t=I()(E.a.mark(function t(e){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ht){t.next=3;break}return t.next=3,pt();case 3:if(ht){t.next=5;break}return t.abrupt("return",!1);case 5:t.next=7;break;case 7:return e?sessionStorage.setItem("ss-box-acount",V()(e)):e=JSON.parse(sessionStorage.getItem("ss-box-acount")||"{}"),t.abrupt("return",e.title==_t&&e.password==bt);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();var wt=yt,xt={data:function(){return{page:1,sdata:!1,showModel:!1,saving:!1,body:z()({},D),methods:q,protocol:C,obfs:L,columns:[],ssrs:[]}},created:function(){this.query()},computed:{data:function(){var t=this.sdata||this.ssrs;return t=t.slice(10*(this.page-1),10*this.page),t},totalPage:function(){return(this.sdata||this.ssrs).length}},methods:{query:function(){var t=this;return I()(E.a.mark(function e(){var r,n,s,a,o,i,c,u,l;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.ssrs_loading=!0,e.prev=1,e.next=4,wt("/node/list");case 4:for(r=e.sent,n=!0,s=!1,a=void 0,e.prev=8,o=N()(r);!(n=(i=o.next()).done);n=!0)c=i.value,u=t.$router.currentRoute.fullPath,l=c.node_id+":"+c.port+":"+c.passwd,c.link=location.href.replace("#"+u,"#/view?key="+window.btoa(l));e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),s=!0,a=e.t0;case 16:e.prev=16,e.prev=17,!n&&o.return&&o.return();case 19:if(e.prev=19,!s){e.next=22;break}throw a;case 22:return e.finish(19);case 23:return e.finish(16);case 24:t.ssrs=r,t.updateColumn(),e.next=30;break;case 28:e.prev=28,e.t1=e.catch(1);case 30:t.ssrs_loading=!1;case 31:case"end":return e.stop()}},e,t,[[1,28],[8,12,16,24],[17,,19,23]])}))()},changePage:function(t){this.page=t},search:function(t){var e=this;this.sdata=!!t&&this.ssrs.filter(function(r){if(e.isAdmin){var n=r.user||{};if(((n.name||n.account||n.email||r.uid)+"").indexOf(t)>=0)return!0}var s=r.node||{};return((s.name||s.ip||r.node_id)+"").indexOf(t)>=0||((r.port+"").indexOf(t)>=0||(r.passwd+"").indexOf(t)>=0)})},updateColumn:function(){var t=this;this.$createElement;this.columns=G({isAdmin:this.isAdmin,users:this.users,nodes:this.nodes,renderEdit:function(e,r){var n=r.row;return e("div",null,[e("a",{attrs:{href:n.link,target:"__blank"}},[" 查看 "]),e(Y.Button,{on:{click:function(){return t.showFormUpdate(n)}},attrs:{type:"text",size:"small"}},[" 修改 "]),e(Y.Button,{on:{click:function(){return t.del(n)}},attrs:{type:"text",size:"small"}},[" 删除 "])])}})},del:function(t){var e=this;return I()(E.a.mark(function r(){return E.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!window.confirm("确定删除["+(t.mark||"无")+"]吗?")){r.next=5;break}return r.next=3,wt("/node/del?id="+t.id);case 3:e.$Message.success("删除成功"),e.query();case 5:case"end":return r.stop()}},r,e)}))()},showFormAdd:function(){this.showModel=!0,this.body=z()({},D)},showFormUpdate:function(t){this.showModel=!0;var e=z()({},t);e.u/=1073741824,e.d/=1073741824,e.transfer_enable/=1073741824,this.body=e},save:function(){var t=this;this.saving=!0,this.$refs.form.validate(function(){var e=I()(E.a.mark(function e(r){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=13;break}return e.prev=1,e.next=4,wt("/node/save",t.body);case 4:n=e.sent,t.query(),t.showModel=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:t.saving=!1;case 13:case"end":return e.stop()}},e,t,[[1,9]])}));return function(t){return e.apply(this,arguments)}}())}}},gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ssr"},[r("div",{staticClass:"tools"},[r("Input",{staticStyle:{width:"8rem"},attrs:{icon:"search",placeholder:"搜索"},on:{input:t.search}}),t._v(" "),r("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:t.showFormAdd}},[t._v("添加账号")]),t._v(" "),r("Button",{staticClass:"fr",attrs:{type:"success"},on:{click:t.query}},[t._v("刷新")])],1),t._v(" "),r("Table",{attrs:{loading:t.ssrs_loading,width:"100%",columns:t.columns,data:t.data}}),t._v(" "),r("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[r("div",{staticStyle:{float:"right"}},[r("Page",{attrs:{total:t.totalPage,current:t.page},on:{"on-change":t.changePage}})],1)]),t._v(" "),r("Modal",{attrs:{width:"360"},on:{"on-ok":t.save},model:{value:t.showModel,callback:function(e){t.showModel=e},expression:"showModel"}},[r("p",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[r("Icon",{attrs:{type:"information-circled"}}),t._v(" "),r("span",[t._v(t._s(t.body.id?"修改账号":"添加账号"))])],1),t._v(" "),r("Form",{ref:"form",attrs:{model:t.body}},[r("FormItem",{attrs:{prop:"mark"}},[r("Input",{attrs:{type:"text",placeholder:"备注"},model:{value:t.body.mark,callback:function(e){t.$set(t.body,"mark",e)},expression:"body.mark"}})],1),t._v(" "),r("FormItem",{attrs:{prop:"port"}},[r("Input",{directives:[{name:"random",rawName:"v-random:port",arg:"port"}],attrs:{type:"text",icon:"refresh",placeholder:"端口"},model:{value:t.body.port,callback:function(e){t.$set(t.body,"port",e)},expression:"body.port"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("端口")])])],1),t._v(" "),r("FormItem",{attrs:{prop:"passwd"}},[r("Input",{directives:[{name:"random",rawName:"v-random:str",arg:"str"}],attrs:{type:"text",icon:"refresh",placeholder:"密码"},model:{value:t.body.passwd,callback:function(e){t.$set(t.body,"passwd",e)},expression:"body.passwd"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("密码")])])],1),t._v(" "),r("FormItem",{attrs:{prop:"u"}},[r("Input",{attrs:{type:"text",placeholder:"上传流量GB"},model:{value:t.body.u,callback:function(e){t.$set(t.body,"u",e)},expression:"body.u"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("上传")])])],1),t._v(" "),r("FormItem",{attrs:{prop:"d"}},[r("Input",{attrs:{type:"text",placeholder:"下载流量GB"},model:{value:t.body.d,callback:function(e){t.$set(t.body,"d",e)},expression:"body.d"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("下载")])])],1),t._v(" "),r("FormItem",{attrs:{prop:"transfer_enable"}},[r("Input",{attrs:{type:"text",placeholder:"流量限制GB"},model:{value:t.body.transfer_enable,callback:function(e){t.$set(t.body,"transfer_enable",e)},expression:"body.transfer_enable"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("流量")])])],1),t._v(" "),r("FormItem",{attrs:{prop:"speed_limit_per_user"}},[r("Input",{attrs:{type:"text",placeholder:"网速限制(Kb/s)"},model:{value:t.body.speed_limit_per_user,callback:function(e){t.$set(t.body,"speed_limit_per_user",e)},expression:"body.speed_limit_per_user"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("网速")])])],1),t._v(" "),r("FormItem",{attrs:{prop:"protocol_param"}},[r("Input",{attrs:{type:"text",placeholder:"设备数量"},model:{value:t.body.protocol_param,callback:function(e){t.$set(t.body,"protocol_param",e)},expression:"body.protocol_param"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("设备")])])],1),t._v(" "),r("FormItem",{attrs:{prop:"expired_at"}},[r("DatePicker",{attrs:{type:"date",value:new Date(t.body.expired_at),placeholder:"过期时间"},on:{input:function(e){return t.body.expired_at=e.getTime()}}})],1),t._v(" "),r("FormItem",{attrs:{prop:"method"}},[r("Select",{attrs:{placeholder:"加密方法"},model:{value:t.body.method,callback:function(e){t.$set(t.body,"method",e)},expression:"body.method"}},t._l(t.methods,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}))],1),t._v(" "),r("FormItem",{attrs:{prop:"protocol"}},[r("Select",{attrs:{placeholder:"协议"},model:{value:t.body.protocol,callback:function(e){t.$set(t.body,"protocol",e)},expression:"body.protocol"}},t._l(t.protocol,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}))],1),t._v(" "),r("FormItem",{attrs:{prop:"obfs"}},[r("Select",{attrs:{placeholder:"混淆"},model:{value:t.body.obfs,callback:function(e){t.$set(t.body,"obfs",e)},expression:"body.obfs"}},t._l(t.obfs,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}))],1),t._v(" "),r("FormItem",{attrs:{prop:"obfs_param"}},[r("Input",{attrs:{type:"text",placeholder:"混淆参数"},model:{value:t.body.obfs_param,callback:function(e){t.$set(t.body,"obfs_param",e)},expression:"body.obfs_param"}})],1),t._v(" "),r("FormItem",{attrs:{prop:"enable"}},[r("Checkbox",{attrs:{value:Boolean(t.body.enable)},on:{input:function(e){return t.body.enable=e}}},[r("span",[t._v("是否启用")])])],1)],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary",size:"large",long:"",loading:t.saving},on:{click:t.save}},[t._v("保存")])],1)],1)],1)},kt=[],jt={render:gt,staticRenderFns:kt},St=jt,Et=r("VU/8"),Ft=o,It=Et(xt,St,!1,Ft,"data-v-bf5b575e",null),Ot=It.exports,Rt=r("X2mQ"),Nt={data:function(){return{info:{node:{},u:0,d:0,transfer_enable:0}}},created:function(){var t=this;return I()(E.a.mark(function e(){var r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$router.currentRoute.query.key,e.next=3,wt("/ssr/userview?key="+r);case 3:t.info=e.sent;case 4:case"end":return e.stop()}},e,t)}))()},computed:{qrcode:function(){var t=this.info,e=t.node.ip,r=t.port,n=t.passwd,s=t.method,a=t.protocol,o=t.protocol_param,i=t.obfs,c=t.obfs_param;n=window.btoa(n),name=window.btoa(e),o=window.btoa(o||""),c=window.btoa(c||"");var u=e+":"+r+":"+a+":"+s+":"+i+":"+n+"/?obfsparam="+c+"&protoparam="+o+"&remarks="+name+"&group=c3MtYm94";return"ssr://"+window.btoa(u)}},components:{VueQr:Rt.a}},Mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.info.node.ip?r("div",{staticClass:"dashboard"},[r("Card",{staticStyle:{width:"300px"}},[r("p",{attrs:{slot:"title"},slot:"title"},[r("Icon",{attrs:{type:"information-circled"}}),t._v(" 连接信息\n\t\t")],1),t._v(" "),r("ul",[r("li",[r("span",{staticClass:"h"},[t._v("服务器ip:")]),t._v(" "),r("span",[t._v(t._s(t.info.node.ip))])]),t._v(" "),r("li",[r("span",{staticClass:"h"},[t._v("远程端口:")]),t._v(" "),r("span",[t._v(t._s(t.info.port))])]),t._v(" "),r("li",[r("span",{staticClass:"h"},[t._v("加密方法:")]),t._v(" "),r("span",[t._v(t._s(t.info.method))])]),t._v(" "),r("li",[r("span",{staticClass:"h"},[t._v("协议:")]),t._v(" "),r("span",[t._v(t._s(t.info.protocol))])]),t._v(" "),r("li",[r("span",{staticClass:"h"},[t._v("协议参数:")]),t._v(" "),r("span",[t._v(t._s(t.info.protocol_param))])]),t._v(" "),r("li",[r("span",{staticClass:"h"},[t._v("混淆:")]),t._v(" "),r("span",[t._v(t._s(t.info.obfs))])]),t._v(" "),r("li",[r("span",{staticClass:"h"},[t._v("混淆参数:")]),t._v(" "),r("span",[t._v(t._s(t.info.obfs_param))])])])]),t._v(" "),t.info.node.ip?r("Card",{staticStyle:{width:"300px"}},[r("p",{attrs:{slot:"title"},slot:"title"},[r("Icon",{attrs:{type:"qr-scanner"}}),t._v(" 二维码\n\t\t")],1),t._v(" "),r("div",[r("VueQr",{attrs:{dotScale:1,size:200,text:t.qrcode}}),t._v(" "),r("span",[t._v(t._s(t.qrcode))])],1)]):t._e(),t._v(" "),r("Card",{staticStyle:{width:"300px"}},[r("p",{attrs:{slot:"title"},slot:"title"},[r("Icon",{attrs:{type:"ios-timer"}}),t._v(" 过期时间\n\t\t")],1),t._v(" "),r("h1",[r("span",[t._v(t._s(t._f("date")(t.info.expired_at)))])])]),t._v(" "),r("Card",{staticStyle:{width:"300px"}},[r("p",{attrs:{slot:"title"},slot:"title"},[r("Icon",{attrs:{type:"arrow-swap"}}),t._v(" 流量\n\t\t")],1),t._v(" "),r("h1",[r("span",[t._v(t._s(t._f("traffic")(t.info.u+t.info.d)))]),t._v("/\n\t\t\t"),r("span",[t._v(t._s(t._f("traffic")(t.info.transfer_enable)))])])])],1):t._e()},zt=[],Pt={render:Mt,staticRenderFns:zt},Ut=Pt,qt=r("VU/8"),Ct=i,Lt=qt(Nt,Ut,!1,Ct,"data-v-cd0b8f2c",null),Dt=Lt.exports,Tt={name:"Notice",data:function(){return{notice:""}},created:function(){var t=this;return I()(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt("/notice/home");case 2:t.notice=e.sent;case 3:case"end":return e.stop()}},e,t)}))()}},Gt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("Markdown",{staticClass:"md",attrs:{value:t.notice}})},$t=[],Bt={render:Gt,staticRenderFns:$t},At=Bt,Vt=r("VU/8"),Ht=Vt(Tt,At,!1,null,null,null),Xt=(Ht.exports,{name:"Home"}),Yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home-pg"},[r("div",{staticClass:"header"},[r("nav",[r("router-link",{attrs:{to:"/"}},[t._v("ss-box")])],1),t._v(" "),r("div",{staticClass:"content-centor"},[r("router-view")],1)]),t._v(" "),r("Notice")],1)},Kt=[],Jt={render:Yt,staticRenderFns:Kt},Qt=Jt,Wt=r("VU/8"),Zt=c,te=Wt(Xt,Qt,!1,Zt,"data-v-3b67f50a",null),ee=te.exports,re={name:"Login",data:function(){return{body:{title:"",pass:""},rule:{title:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{login:function(t){var e=this;this.$refs[t].validate(function(){var t=I()(E.a.mark(function t(r){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return t.next=3,wt.login(e.body);case 3:if(!t.sent){t.next=7;break}e.$router.push("/list"),t.next=8;break;case 7:e.$Message.error("账号或密码错误");case 8:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())}}},ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form"},[t._m(0,!1,!1),t._v(" "),r("Form",{ref:"form",attrs:{model:t.body,rules:t.rule}},[r("FormItem",{attrs:{prop:"title"}},[r("Input",{attrs:{type:"text",placeholder:"用户名/邮箱"},model:{value:t.body.title,callback:function(e){t.$set(t.body,"title",e)},expression:"body.title"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t._v(" "),r("FormItem",{attrs:{prop:"password"}},[r("Input",{attrs:{type:"password",placeholder:"密码"},on:{"on-enter":function(e){t.login("form")}},model:{value:t.body.password,callback:function(e){t.$set(t.body,"password",e)},expression:"body.password"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-locked-outline"},slot:"prepend"})],1)],1),t._v(" "),r("FormItem",[r("Button",{staticClass:"login",attrs:{type:"primary"},on:{click:function(e){t.login("form")}}},[t._v("登录")])],1)],1)],1)},se=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("h6",[t._v("回家咯~~~")])])}],ae={render:ne,staticRenderFns:se},oe=ae,ie=r("VU/8"),ce=u,ue=ie(re,oe,!1,ce,"data-v-b1be9aa6",null),le=ue.exports,de=this,pe=new O.a({routes:[{path:"/",name:"Home",component:ee,children:[{path:"",name:"Login",alias:"login",component:le,meta:{guest:!0}}]},{path:"/list",name:"UserList",component:Ot},{path:"/view",name:"UserView",component:Dt,meta:{guest:!0}}]});pe.beforeEach(function(){var t=I()(E.a.mark(function t(e,r,n){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.meta.guest){t.next=4;break}n(),t.next=11;break;case 4:return t.next=6,wt.login();case 6:if(!t.sent){t.next=10;break}n(),t.next=11;break;case 10:n({path:"/login"});case 11:case"end":return t.stop()}},t,de)}));return function(e,r,n){return t.apply(this,arguments)}}()),m.default.use(O.a);var fe=pe,ve={name:"Markdown",props:["value"],computed:{compiledMarkdown:function(){return marked(this.value,{sanitize:!0})}}},me=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{domProps:{innerHTML:t._s(t.compiledMarkdown)}})},he=[],_e={render:me,staticRenderFns:he},be=_e,ye=r("VU/8"),we=ye(ve,be,!1,null,null,null),xe=we.exports,ge={name:"LoginLink",props:{to:{default:"/login"}},computed:{to_:function(){var t=this.$router.currentRoute,e=t.fullPath;return/(login)|(register)/.test(t.fullPath)&&(e=void 0),{path:this.to,query:{redirect:e}}}}},ke=function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-link",{attrs:{to:t.to_}},[t._t("default")],2)},je=[],Se={render:ke,staticRenderFns:je},Ee=Se,Fe=r("VU/8"),Ie=Fe(ge,Ee,!1,null,null,null),Oe=Ie.exports;U.a.locale("zh-CN");var Re={install:function(t,e){m.default.filter("fromNow",function(t){return"number"==typeof t&&t<1e12&&(t*=1e3),U()(t).fromNow()}),m.default.filter("date",function(t){return"number"==typeof t&&t<1e12&&(t*=1e3),U()(t).format("YYYY-MM-DD")}),m.default.filter("time",function(t){return"number"==typeof t&&t<1e12&&(t*=1e3),U()(t).format("HH:mm:ss")});var r=["b","Kb","Mb","Gb"];m.default.filter("traffic",function(t,e,n){for(t=parseInt(t),n=n||0,e=e||0;e<4;e++){if(t<1024)return t+r[e];t=(t/1024).toFixed(n)}return t+"GB"}),m.default.directive("random",{bind:function(t,e,r){var n=e.arg,s=e.value;r.data.model&&(t.__vue__.__random&&t.__vue__.$off("on-click",t.__vue__.__random),t.__vue__.__random=new Function("n","r","v","n.context."+r.data.model.expression+'=r("'+n+'",v)').bind(this,r,d,s),t.__vue__.$on("on-click",t.__vue__.__random))}}),m.default.component("Markdown",xe),m.default.component("LoginLink",Oe)}};r("+skl"),r("02X8");m.default.use(K.a),m.default.use(Re),new m.default({el:"#app",router:fe,render:function(t){return t(j)}})},hxFq:function(t,e,r){"use strict";var n=r("qJhg"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("img",t._b({},"img",{id:t.uuid},!1))])},a=[],o={render:s,staticRenderFns:a},i=o,c=r("VU/8"),u=c(n.a,i,!1,null,null,null);e.a=u.exports},uslO:function(t,e,r){function n(t){return r(s(t))}function s(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.9de02a785fdbde7fcabf.js.map